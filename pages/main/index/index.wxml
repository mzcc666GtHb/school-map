<view class='main-box'>
  <!-- 地图 -->
  <map id="myMap" class="index-map" bindregionchange="regionchange" bindmarkertap="bindmarkertap" bindcallouttap="bindcallouttap" scale="{{mapScale}}" latitude="{{latitude}}" longitude="{{longitude}}" markers="{{markers}}" show-location>
    <cover-view slot="callout">
      <block wx:for="{{customCalloutMarker}}" wx:key="id">
        <cover-view class="customCallout" marker-id="{{item.id}}">
          <cover-view style="width: 30px;height:30px;border-radius:30px;color:#fff;background-color: #0092B6;line-height:30px;">学</cover-view>
          <cover-view style="margin-top: 4px;width:100%;text-align:center;position:absolute;bottom:-10px;color:#000;">
              {{item.name}}
          </cover-view>
        </cover-view>
      </block>
    </cover-view>
  </map>
 <!--顶部筛选-->
  <view class="top-filter-wrap" wx:if="{{showTopFilter}}">
    <custom-top-filter
            bind:onClickSearch="onClickTopSearch"
            bind:onClickItem="onClickItem"
            bind:onClickNav="onClickNav">
    </custom-top-filter>
  </view>

    <!-- 右侧工具栏-->
  <view class="right-btns-wrap" hover-class="none" hover-stop-propagation="false">
    <view class="list-btn right-btn" wx:if="{{houses.length}}" bindtap="showList" hover-class="none" hover-stop-propagation="false">
      <image class="bgImg" src="../image/list.png"></image>
      <view class="ctrl-text">
        列表
      </view>
    </view>
      <view class="ctrl-btn right-btn" wx:if="{{true}}" bindtap="showNearByPlace" hover-class="none" hover-stop-propagation="false">
      <image class="bgImg" src="../image/nearby.png"></image>
      <view class="ctrl-text">
        附近
      </view>
    </view>
     <view class="ctrl-btn right-btn" wx:if="{{true}}" bindtap="backToOrigin" hover-class="none" hover-stop-propagation="false">
      <image class="bgImg" src="../image/loc.png"></image>
      <view class="ctrl-text">
        定位
      </view>
    </view>
  </view>
    <custom-bottom-card bottomDistance="{{bottomDistance}}" bind:onReachTop="onReachTop" bind:onReachBottom="onReachBottom" id="customBottomCard">
        <view>
            <view class="bottom-card-top">
                <view class="card-top-left">
                    <view class="card-top-icon" style="margin-right: 6px">
                        <image  style="width: 100%; height: 100%;" mode="aspectFit" src="../image/location1.svg"></image>
                    </view>
                    <view>上海市</view>
                </view>
                <view class="card-top-right">
                    <view class="card-top-btn">
                        <view class="card-top-icon">
                            <image  style="width: 100%; height: 100%;" mode="aspectFit" src="../image/pliocy.svg"></image>
                        </view>
                        <view>政策</view>
                    </view>
                    <view class="card-top-btn">
                        <view class="card-top-icon">
                            <image  style="width: 100%; height: 100%;" mode="aspectFit" src="../image/calendar.svg"></image>
                        </view>
                        <view>日历</view>
                    </view>
                    <view class="card-top-btn" bindtap="onCloseCard">
                        <view class="card-top-icon">
                            <image  style="width: 100%; height: 100%;" mode="aspectFit" src="../image/close.svg"></image>
                        </view>
                        <view>关闭</view>
                    </view>
                </view>
            </view>
        </view>
        <scroll-view scroll-y="{{isScrollY}}" style="{{'width: 100%;height:' + scrollHeight + ';'}}">
            <view style="padding-bottom: 40px">
                <custom-charts></custom-charts>
            </view>
        </scroll-view>
    </custom-bottom-card>
</view>
